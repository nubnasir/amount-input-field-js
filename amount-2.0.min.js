/*Amount validator and auto formatter javaScript*version-1.1*Finance js lib development*Author/Developer: Md. Nasir Uddin Bhuiyan*/var _A=0;var _B=0;function vam(e){var ele=e.target;if(!iviv(ele.value)){ele.value='';return;}var a=ele.selectionStart;var b=ele.value.split(".");var c=b[0].replace(/,/g,'');var f=b.length>1?'.'+b[1].replace(',',''):'';var d=c.split('');var g=[];var h=0;var k='';for(var i=d.length-1;i>=0;i--){k += d[i];h++;if(h==3){g.push(k);h=0;k='';}}if(h>0){g.push(k);}var l='';for(var i=g.length-1;i>=0;i--) {k=g[i].split('');for(var j=k.length-1;j>=0;j--) {l+=k[j];}if(i>0){l+=',';}}l=l+(f.length<=3?f:f.substring(0,3));ele.value=l;var m=(e.which)?e.which:e.keyCode;var n=0;if((m>=48&&m<=57)||(m>=96&&m<=105)||m==188||m==190){n=l.substring(0,a).split(",").length-_A;}if(_B>0){n+=_B_B=0;}ele.selectionStart=a+(n>0?n:0);ele.selectionEnd=a+(n>0?n:0);}function vaC(e){try{if(e.target.selectionStart!=0){_A=e.target.value.substring(0,e.target.selectionStart).split(",").length;}} catch(ex){_A=0;}var m=(e.which)?e.which:e.keyCode;if(!iviv(String.fromCharCode(m))){return false;}if((m>=48&&m<=57)||m==44||m==46){return true;}return false;}function iviv(c){return /^-?[\d,.]*$/.test(c);}function paF(e){var cd,pd;e.stopPropagation();e.preventDefault();cd=e.clipboardData||window.clipboardData;pd=cd.getData('Text');if(pd!=null&&pd!=''&&pd.length>0){var p='';var d=pd.split('');for(var i=0;i<d.length;i++){if(/^-?[\d]+$/.test(d[i])){p+=d[i];}}_B=Math.floor(p.length/3)+p.length%3;e.target.value=p;}vam(e);}function adE(ais){for(var i=0;i<ais.length;i++){ais[i].addEventListener("keyup",vam);ais[i].addEventListener("keypress",(event)=>{event.returnValue=vaC(event)});ais[i].addEventListener("paste",paF);}}(function(){adE(document.getElementsByClassName("amount"));})();function apply_amount(className){adE(document.getElementsByClassName(className));}